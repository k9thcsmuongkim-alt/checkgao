<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Camera Scanner</title>
    <style>
        body { background: #000; color: #0f0; font-family: monospace; padding: 20px; }
        #log { border: 1px solid #333; padding: 10px; height: 300px; overflow-y: scroll; background: #111; white-space: pre-wrap; margin-bottom: 20px; }
        button { padding: 15px; font-size: 18px; background: #007bff; color: white; border: none; cursor: pointer; }
    </style>
    
    <script>
        window.oldVars = Object.keys(window);
    </script>
</head>
<body>

    <h2>MÃY QUÃ‰T TÃŠN HÃ€M (SCANNER)</h2>
    <div id="log">Äang Ä‘á»£i táº£i file JS...</div>
    <button onclick="checkVars()">Báº¤M Äá»‚ QUÃ‰T TÃŒM BIáº¾N Má»šI</button>

    <script>
        var module = { exports: {} }; 
        var exports = module.exports;
    </script>

    <script src="edge-impulse-standalone.js"></script>

    <script>
        const logEl = document.getElementById('log');
        function log(msg) { logEl.innerHTML += `> ${msg}\n`; }

        function checkVars() {
            log("--- Báº®T Äáº¦U QUÃ‰T ---");
            
            // 1. Kiá»ƒm tra module.exports
            if (typeof module.exports === 'function') {
                log("âœ… PHÃT HIá»†N: module.exports lÃ  má»™t hÃ m!");
                console.log(module.exports);
                alert("TÃ¬m tháº¥y! HÃ£y bÃ¡o cho tÃ´i: 'NÃ³ náº±m trong module.exports'");
                return;
            } else if (Object.keys(module.exports).length > 0) {
                log("âœ… PHÃT HIá»†N: module.exports chá»©a cÃ¡c hÃ m sau: " + Object.keys(module.exports).join(", "));
                return;
            }

            // 2. Kiá»ƒm tra biáº¿n toÃ n cá»¥c (Window)
            const currentVars = Object.keys(window);
            const newVars = currentVars.filter(key => !window.oldVars.includes(key));
            
            // Lá»c bá» cÃ¡c biáº¿n rÃ¡c há»‡ thá»‘ng
            const realNewVars = newVars.filter(v => v !== 'module' && v !== 'exports' && v !== 'oldVars' && v !== 'log' && v !== 'checkVars' && v !== 'logEl');

            if (realNewVars.length > 0) {
                log("âœ… PHÃT HIá»†N CÃC BIáº¾N Má»šI TRÃŠN WINDOW:");
                realNewVars.forEach(v => {
                    log(`   - ${v} (Loáº¡i: ${typeof window[v]})`);
                });
                log("ğŸ‘‰ HÃ£y copy tÃªn cÃ¡c biáº¿n trÃªn gá»­i cho tÃ´i!");
            } else {
                log("âŒ KHÃ”NG TÃŒM THáº¤Y GÃŒ Cáº¢.");
                log("âš ï¸ NguyÃªn nhÃ¢n: File JS cÃ³ thá»ƒ bá»‹ lá»—i cÃº phÃ¡p hoáº·c chÆ°a táº£i xong.");
                log("ğŸ‘‰ HÃ£y báº¥m F12, chá»n tab Console vÃ  chá»¥p áº£nh lá»—i mÃ u Ä‘á» gá»­i cho tÃ´i.");
            }
        }
    </script>
</body>
</html>
